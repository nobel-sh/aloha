import "stdlib/io.alo";

// Additional extern function not in stdlib
extern fun aloha_sys_exit(code: number) -> void;

fun write_str(s: string) -> void {
    imut len: number = aloha_sys_strlen(s);
    aloha_sys_write(1, s, len);
}

fun writeln(s: string) -> void {
    write_str(s);
    aloha_sys_write(1, "\n", 1);
}

fun demonstrate_extern() -> void {
    writeln("=== Extern Keyword Test ===");
    writeln("");
    writeln("This program demonstrates both:");
    writeln("  - Direct system functions (aloha_sys_write, aloha_sys_strlen)");
    writeln("  - Aloha stdlib functions (println, printlnNum from io.alo)");
    writeln("");
    
    write_str("String length test: ");
    imut test_str: string = "Hello, World!";
    imut len: number = aloha_sys_strlen(test_str);
    printlnNum(len);
    
    writeln("");
    println("Using stdlib println!");
    writeln("Test complete!");
}

fun main() -> number {
    demonstrate_extern();
    return 0;
}
